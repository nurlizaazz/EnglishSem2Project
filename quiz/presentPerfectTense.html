<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
     <meta name="theme-color" content="#f8f6f3" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#f8f6f3" media="(prefers-color-scheme: dark)">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>FluentMate</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
   <link rel="stylesheet" href="../css_/style.css?v1:1">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Barrio&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

  </head>
    <body class = "bg">
    <nav class="navbar navbar-expand-lg" style="background-color: #648DB3; border-bottom: 5px solid #B6B09F;">
        <div class="container-fluid">
         <a href="../index.html" class="navbar-brand d-flex align-items-center text-white fw-bold" style="gap: 12px;">
            <img src="../image/logo.png" style="height:60px; width:60px;">
            <span style="font-size: 30px; font-family: 'Rajdhani', 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif; margin-left:0px; color: white;">
              <b>Fluent</b><span style="font-size: 30px; position:relative; top:  12px; "><b>Mate</b></span>
            </span>
          </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0 align-end"></li>
            </ul>
            <a href="podcast.html"><i class="bi bi-volume-up "style ="font-size:30px; color: black; margin-right : 30px; " data-bs-toggle="tooltip" title="Podcast"></i></a>
            <a href="video.html"><i class="bi bi-camera-video "style ="font-size:30px; color: black; margin-right : 30px;  "data-bs-toggle="tooltip" title="Video"></i></a>
            <a href="lesson.html"><i class="bi bi-book "style ="font-size:30px; color: black;"data-bs-toggle="tooltip" title="Article"></i></a>

          </div>
        </div>
      </nav>

 <ul class="nav nav-pills nav-fill justify-content-center">
  <li class="nav-item">
    <a class="nav-link" href="../grammar.html">Grammar</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../speaking.html">Speaking</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../vocabulary.html">Vocabulary</a>
  </li>

  <!-- Dropdown item for Quiz -->
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
      Quiz
    </a>
    <ul class="dropdown-menu">
      <li><a class="dropdown-item" href="simplePresentTense.html">Simple Present Tense</a></li>
      <li><a class="dropdown-item" href="simplePastTense.html">Simple Past Tense</a></li>
      <li><a class="dropdown-item" href="simpleFutureTense.html">Simple Future Tense</a></li>
      <li><a class="dropdown-item" href="presentPerfectTense.html">Present Perfect Tense</a></li>
      <li><a class="dropdown-item" href="presentContinuousTense.html">Present Continuous Tense</a></li>
    </ul>
  </li>

  <!-- Dropdown item for FlashCard -->
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
      FlashCard
    </a>
    <ul class="dropdown-menu">
      <li><a class="dropdown-item" href="../greeting.html">Greeting</a></li>
      <li><a class="dropdown-item" href="../pronoun.html">Personal Pronouns</a></li>
      <li><a class="dropdown-item" href="../home.html">Things at Home</a></li>
      <li><a class="dropdown-item" href="../day.html">Days of the Week</a></li>
      <li><a class="dropdown-item" href="../month.html">Months of the Year</a></li>
      <li><a class="dropdown-item" href="../family.html">Family</a></li>
      <li><a class="dropdown-item" href="../question.html">Question Words</a></li>
      <li><a class="dropdown-item" href="../nouns.html">Nouns</a></li>
      <li><a class="dropdown-item" href="../verb.html">Verb</a></li>
    </ul>
  </li>
</ul>

   <div id="quiz-container">
  <section id="quiz" tabindex="0">
      <h2>Quiz</h2>
      <div id="timer" style="font-size: 15px; font-weight: bold; color:#4a5568; margin-bottom: 1rem;">
  Time : <span id="time">05:00</span>
</div>

      <div class="question" data-correct="They have visited that museum before.">
        <p>1. Which sentence is correctly written in Present Perfect Tense? </p>
        <div class="options">
          <button type="button" class="option-btn">She has went to Japan twice.</button>
          <button type="button" class="option-btn">I have eaten sushi last night.</button>
          <button type="button" class="option-btn">They have visited that museum before.</button>
          <button type="button" class="option-btn">We have see that movie yesterday.</button>
        </div>
      </div>


      <div class="question" data-correct="have never seen">
        <p>2. I _______ (never/see) a shooting star in my life. </p>
        <div class="options">
          <button type="button" class="option-btn">never saw</button>
          <button type="button" class="option-btn">have never saw</button>
          <button type="button" class="option-btn">have never seen</button>
          <button type="button" class="option-btn">seen never</button>
        </div>
      </div>


      <div class="question" data-correct="have/been">
        <p>3. _______ you ever _______ (be) to a foreign country?</p>
        <div class="options">
         <button type="button" class="option-btn">did/be</button>
          <button type="button" class="option-btn">have/been</button>
          <button type="button" class="option-btn">are/been</button>
          <button type="button" class="option-btn">do/be</button>
        </div>
      </div>

      <div class="question" data-correct="hasn't finished">
        <p>4. He _______ (not/finish) the report yet, so the manager is upset.</p>
        <div class="options">
          <button type="button" class="option-btn">hasn't finished</button>
          <button type="button" class="option-btn">didn't finished</button>
          <button type="button" class="option-btn">doesn't finished</button>
          <button type="button" class="option-btn">not finished</button>
        </div>
      </div>

      <div class="question" data-correct=" We have stayed at this hotel for a week.">
        <p>5. Choose the sentence that uses Present Perfect correctly with "since" or "for": </p>
        <div class="options">
          <button type="button" class="option-btn">I have lived in this city since five years.</button>
          <button type="button" class="option-btn">She has worked here for 2019.</button>
          <button type="button" class="option-btn"> We have stayed at this hotel for a week.</button>
          <button type="button" class="option-btn">He has studied English since two months.</button>
        </div>
      </div>
    </section>
    <div id="score-container" style="margin-top: 2rem; text-align: center; font-size: 1.2rem; font-weight: bold;"></div>
<div style="text-align: center; margin-top: 1rem;">
  <button id="restart-btn" class="btn btn-primary" style="display: none;">Ulangi Quiz</button>
</div>

</div>
<script>
  let totalQuestions = document.querySelectorAll('.question').length;
  let answeredCount = 0;
  let score = 0;

  // TIMER SETUP
  let timeLeft = 120; // waktu dalam detik (2 menit)
  const timeDisplay = document.getElementById("time");

  const timerInterval = setInterval(() => {
    let minutes = Math.floor(timeLeft / 60);
    let seconds = timeLeft % 60;
    timeDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
    timeLeft--;

    if (timeLeft < 0) {
      clearInterval(timerInterval);
      lockQuiz();
      showScore();
    }
  }, 1000);

  // LOCK ALL QUESTIONS (timer habis)
  function lockQuiz() {
    document.querySelectorAll('.question').forEach(question => {
      const buttons = question.querySelectorAll('.option-btn');
      buttons.forEach(btn => {
        btn.disabled = true;
        btn.classList.add('disabled');
      });
    });
  }

  // Tampilkan skor
  function showScore() {
    document.getElementById("scoreContent").innerText = `Skor Anda: ${score} dari ${totalQuestions}`;
    const modal = new bootstrap.Modal(document.getElementById('scoreModal'));
    modal.show();
  }

  // EVENT LISTENER KUIS
  document.querySelectorAll('.question').forEach(question => {
    const correctAnswer = question.getAttribute('data-correct');
    const buttons = question.querySelectorAll('.option-btn');

    buttons.forEach(button => {
      button.addEventListener('click', () => {
        if (question.classList.contains('answered')) return;
        question.classList.add('answered');
        answeredCount++;

        buttons.forEach(btn => {
          btn.disabled = true;
          btn.classList.add('disabled');
          if (btn.textContent === correctAnswer) {
            btn.classList.add('correct');
          }
        });

        if (button.textContent === correctAnswer) {
          button.classList.add('correct');
          score++;
        } else {
          button.classList.add('wrong');
        }

        if (answeredCount === totalQuestions) {
          clearInterval(timerInterval); // stop timer
          showScore();
        }
      });
    });
  });
</script>


<!-- Modal Skor -->
<div class="modal fade" id="scoreModal" tabindex="-1" aria-labelledby="scoreModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="scoreModalLabel">Hasil Kuis</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Tutup"></button>
      </div>
      <div class="modal-body" id="scoreContent">
        Skor Anda: 0 dari 0
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" onclick="location.reload()">Coba Lagi</button>
      </div>
    </div>
  </div>
</div>







